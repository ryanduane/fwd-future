(this.webpackJsonppastiche=this.webpackJsonppastiche||[]).push([[0],{18:function(e,t,a){e.exports=a(26)},23:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(17),s=a.n(r),i=(a(23),a(0)),c=a.n(i),p=a(2),l=a(6),u=a(10),h=a(8),m=a(3),d=a(7),g=a(12),f=a(4),w=a.n(f),v=["rotate(0deg)","rotate(0deg)","rotate(23deg)","rotate(45deg)","rotate(-23deg)","rotate(-45deg)"],k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).updateWindowDimensions=function(){a.setState({width:window.innerWidth,height:window.innerHeight})},a.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},a.loadImageFlickr=function(){var e=Object(p.a)(c.a.mark((function e(t){var n,o,r,s,i,p,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://cors-anywhere.herokuapp.com/","https://www.flickr.com/services/rest/",n={method:"flickr.photos.search",api_key:"6c1975a4b22f8f362e5ea3f7faa4bab7",text:t,format:"json",nojsoncallback:"1",per_page:"20"},e.next=6,g.a.get("".concat("https://cors-anywhere.herokuapp.com/").concat("https://www.flickr.com/services/rest/"),{searchParams:n}).json();case 6:o=e.sent,r=(o||{}).photos,s=(r||{}).photo,Array.isArray(s)&&s.length>0&&(console.log("photo",s),i=s.map((function(e){var t=e.farm,a=e.server,n=e.id,o=e.secret;return{title:e.title,url:"https://farm".concat(t,".staticflickr.com/").concat(a,"/").concat(n,"_").concat(o,".jpg")}})),p=a.state.images,l=void 0===p?[]:p,a.setState({images:l.concat(i)})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),a.loadImageWikipedia=function(){var e=Object(p.a)(c.a.mark((function e(t){var n,o,r,s,i,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://cors-anywhere.herokuapp.com/","https://en.wikipedia.org/w/api.php",n={action:"query",format:"json",list:"allimages",aifrom:t,ailimit:20},e.next=6,g.a.get("".concat("https://cors-anywhere.herokuapp.com/").concat("https://en.wikipedia.org/w/api.php"),{searchParams:n}).json();case 6:o=e.sent,r=(o||{}).query,s=(r||{}).allimages,Array.isArray(s)&&s.length>0&&(console.log("allimages",s),i=a.state.images,p=void 0===i?[]:i,a.setState({images:p.concat(s)})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),a.loadImages=function(e){e.map((function(e){return e&&a.loadImageFlickr(e),null}))},a.placeImage=function(){var e=a.state,t=e.width-200,n=e.height-200,o=t*Math.random(),r=n*Math.random();switch(a.getRandomIntInclusive(1,6)){case 1:return{leftEdge:0,topEdge:r};case 2:case 3:return{leftEdge:o,topEdge:0};case 4:return{leftEdge:t,topEdge:r};case 5:case 6:return{leftEdge:o,topEdge:n};default:return{leftEdge:o,topEdge:r}}},a.state={quote:"It\u2019s not too late / To feel a little more alive / Make our escape / Before we start to vaporize",images:[],width:0,height:0},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.quote.split(/\s*(?:[;,.//]|$)\s*/);console.log(e),this.loadImages(e),this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){var e=this,t=this.state,a=t.images,n=t.quote;return o.a.createElement("div",{className:w.a.app},o.a.createElement("div",{className:w.a.appImageContainer},a.map((function(t,a){var n=t||{},r=n.title,s=n.url,i=e.placeImage(),c=i.leftEdge,p=i.topEdge,l=v[e.getRandomIntInclusive(0,5)];return o.a.createElement("div",{className:w.a.appImageDiv,key:a,style:{left:c,top:p,transform:l}},o.a.createElement("div",{className:w.a.shadow},o.a.createElement("img",{alt:r,className:w.a.appImage,src:s})))}))),o.a.createElement("p",{className:w.a.appQuote},n))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},4:function(e,t,a){e.exports={app:"Pastiche_app__3u_s1",appQuote:"Pastiche_appQuote__2D0gY",appImageContainer:"Pastiche_appImageContainer__3203X",appImageDiv:"Pastiche_appImageDiv__JYaHp",shadow:"Pastiche_shadow__2i0UN",appImage:"Pastiche_appImage__s6oEZ"}}},[[18,1,2]]]);
//# sourceMappingURL=main.fcb7b35b.chunk.js.map